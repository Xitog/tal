Tout notre travail a été effectué avec MinGW + MSYS sur Windows.

1. Observation de fichiers volumineux

1.1 Décompression de l'extrait de dump du Wiktionnaire :
bzip2 -d glawiSplit__1.xml.bz2

1.2 Observation du fichier décompressé :
less glawiSplit__1.xml

Prendre les 100 premières lignes et les mettre dans un autre fichier :
head -n 100 glawiSplit__1.xml > head_glawiSplit__1.xml

1.3 La balise <page> indique une page qui possède un <titre> et une <revision>. La révision contient le texte de la page à un moment donné dans la balise <text>. Dans les fichiers donnés, il n'y a qu'une révision par page.

Les informations sur le mot sont en WikiCode à l'intérieur de la balise <text> :
    o == {{langue|fr}} == Langue du mot
    o === {{S|nom|fr}} === Catégorie du discours et langue
    o ==== {{S|synonymes}} ==== Synonymes du mot
    o ==== {{S|traductions}} ==== Traductions du mot

2. Manipulations

2.1 Extraire la nomenclature :

grep \<title\> glawiSplit__1.xml > grep1.txt

Avec cut :

cut -d ">" -f 2 grep1.txt | cut -d "<" -f 1 > nomenclature.txt

Avec sed :

sed 's/ *<title>//' grep1.txt | sed 's/<\/title>//' > nomenclature_bis.txt

On obtient avec les deux méthodes le même fichier (vérifié avec WinMerge).

2.2 Extraire la nomenclature en supprimant les pages méta :

Les pages méta contiennent un ":" dans le titre.

Nous utilisons un grep inversé pour ne PAS sélectionner les lignes correspondant au motif :

grep -v " *: *" nomenclature_bis.txt > nomenclature_filtree.txt

La taille de cette nomenclature filtrée est obtenue avec :

wc -l nomenclature_filtree.txt

Elle compte 46 337 éléments.

3. Dump et pages du Wiktionnaire

Pour extraire le contenu de l'article "avant", je le cherche avec grep et je mets les 1000 lignes avant et après dans un fichier intermédiaire.

grep -A 1000 -B 1000 \<title\>avant\</avant\> glawiSplit__1.xml > avant.txt

À la ligne 1001 du fichier en sortie nous avons bien "    <title>avant</title>".

2. La page en ligne correspondant à ce dump est accessible à cette adresse : https://fr.wiktionary.org/wiki/avant

Comme le Wiktionnaire change constamment, il n'est pas garanti que le dump que nous avons corresponde exactement à ce qui est actuellement sur la page, surtout s'il est ancien.

3. Nous avons copié le wikicode du dump qui se trouve dans la balise <text> et l'avons comparé au wikicode actuel à l'aide du logiciel WinMerge.

On peut faire les remarques suivantes à propos du wikicode actuel par rapport au dump :
    o Le format du wikicode n'a pas évolué.
    o Des prononciations ont été rajoutées dans la section === {{S|prononciation}} ===
    o Des traductions ont été rajoutées dans la section ==== {{S|traductions}} ==== pour la préposition et l'adverbe français.
    o Une nouvelle entrée pour la langue gallo a été rajoutée (langue d'oïl parlée en Bretagne)
    o Des liens de la forme [[code langue:avant]] ont été supprimés à la fin de la page.

Le nombre de '=' indique la profondeur de la section dans l'arbre des sections du document. On relève la structure suivante dans la version actuelle (le 22 janvier 2019 à 16h41) :
    o == {{langue|fr}} ==
        o === {{S|étymologie}} ===
        o === {{S|préposition|fr}} ===
            o ==== {{S|composés}} ====
            o ==== {{S|traductions}} ====
        o === {{S|adverbe|fr}} ===
            o ==== {{S|antonymes}} ====
            o ==== {{S|dérivés}} ====
            o ==== {{S|traductions}} ====
                o ===== {{S|traductions à trier}} =====
        o === {{S|nom|fr}} ===
            o ==== {{S|dérivés}} ====
            o ==== {{S|traductions}} ====
        o === {{S|adjectif|fr}} ===
        o === {{S|prononciation}} ===
            o ==== {{S|homophones}} ====
        o === {{S|anagrammes}} ===
        o === {{S|références}} ===
    o == {{langue|oc}} ==
        o === {{S|étymologie}} ===
        o === {{S|adverbe|oc}} ===
            o ==== {{S|synonymes}} ====
            o ==== {{S|antonymes}} ====
            o ==== {{S|dérivés}} ====
        o === {{S|préposition|oc}} ===
            o ==== {{S|synonymes}} ====
            o ==== {{S|antonymes}} ====
        o === {{S|nom|oc}} ===
            o ==== {{S|synonymes}} ====
            o ==== {{S|dérivés}} ====
        o === {{S|références}} ===

4. Analyse et conversion du wikicode

Pour trouver les types de section existantes dans le dump, nous utilisons la commande suivante :

