Idées :

- Faire un DecisionTreeClassifier à partir de la silhouette.
- Programmer un "testeur" qui modifie certains paramètres et sélectionne la meilleure accuracy
  stop_words strip_accents
- Une position moyenne du mot par domaine. Si cela respecte la position moyenne, alors bonus ?
- En cas d'erreur, afficher les valeurs non nuls de la ligne transformée avec le label
- Présence de verbe conjugué ?

À faire : 

- Mon modèle avec tous les facteurs (nb = None)
- DecisionTreeClassifier sur Titres bruts + données non textuelles
- SVM sur Titres bruts
- SVM sur Titres bruts + données non textuelles

--------------------------------------------------------------------------------
Résumé des résultats
--------------------------------------------------------------------------------

Mon modèle      trainMS             testMS
   100 traits   65 %     3s         ?
 1 000 traits   78 %     01m18      ?
10 000 traits   81 %     05m44      ?
53 426 titres

Titres bruts + TfidfVectorizer + DecisionTreeClassifier
Nb Titres    Factors    Accuracy   Time     Nb nodes    Depth
 3 000        8709      90%        0s03      1101        94
10 000       18966      89%        0s16      3219       220
19 999       28282      91%        0s16      6405       323
53 426       49699      92%        0s47     16311       656

--------------------------------------------------------------------------------
10 erreurs de Titres bruts + TfidfVectorizer + DecisionTreeClassifier
--------------------------------------------------------------------------------

GroundTruth = Lettres    vs Predicted = Informatique
Titre = Excursions au pays des merveilles
Domaine                               Lettres
Support                                  COMM
Année                                    2012
Nauteurs                                    1
Titre       Excursions au pays des merveilles
Name: 1, dtype: object

GroundTruth = Informatique vs Predicted = Lettres   
Titre = SymbAphidBase : une base de données nouvelle dédiée aux symbiotes de pucerons pour stocker et visualiser les génomes séquencés en standardisant leurs annotations
Domaine                                          Informatique
Support                                                  COMM
Année                                                    2014
Nauteurs                                                    9
Titre       SymbAphidBase : une base de données nouvelle d...
Name: 2, dtype: object

GroundTruth = Lettres    vs Predicted = Linguistique
Titre = Élites maléfiques et complot pédophile : paniques morales autour des enfants
Domaine                                               Lettres
Support                                                   ART
Année                                                    2006
Nauteurs                                                    1
Titre       Élites maléfiques et complot pédophile : paniq...
Name: 3, dtype: object

GroundTruth = Informatique vs Predicted = Linguistique
Titre = Relations de dépendance entre la configuration d'un accident VL-piéton et le déroulement du choc
Domaine                                          Informatique
Support                                                  COMM
Année                                                    2013
Nauteurs                                                    4
Titre       Relations de dépendance entre la configuration...
Name: 4, dtype: object

GroundTruth = Lettres    vs Predicted = Informatique
Titre = L'envers de l'Histoire contemporaine. Conjurations, complots et sociétés secrètes, moteurs souterrains du récit romanesque romantique
Domaine                                               Lettres
Support                                                  COUV
Année                                                    2006
Nauteurs                                                    1
Titre       L'envers de l'Histoire contemporaine. Conjurat...
Name: 5, dtype: object

GroundTruth = Informatique vs Predicted = Lettres   
Titre = Analyse par signaux cachés : SPA/DPA : Sécurité et protection dans les systèmes de traitement de l'information
Domaine                                          Informatique
Support                                                   ART
Année                                                    2004
Nauteurs                                                    3
Titre       Analyse par signaux cachés : SPA/DPA : Sécurit...
Name: 6, dtype: object

GroundTruth = Informatique vs Predicted = Linguistique
Titre = Conception Isotropique d'une morphologie parallèle : Application à l'usinage
Domaine                                          Informatique
Support                                                  COMM
Année                                                    2000
Nauteurs                                                    3
Titre       Conception Isotropique d'une morphologie paral...
Name: 7, dtype: object

GroundTruth = Linguistique vs Predicted = Informatique
Titre = Frontières linguistiques dans les approches de la langue en théorie et en pratique. L’impact des contextes migratoires pour repenser l’enseignement en France
Domaine                                          Linguistique
Support                                                  COUV
Année                                                    2017
Nauteurs                                                    1
Titre       Frontières linguistiques dans les approches de...
Name: 8, dtype: object

GroundTruth = Informatique vs Predicted = Linguistique
Titre = Apprentissage relationnel de motifs temporels
Domaine                                      Informatique
Support                                              COMM
Année                                                2005
Nauteurs                                                2
Titre       Apprentissage relationnel de motifs temporels
Name: 9, dtype: object

GroundTruth = Informatique vs Predicted = Lettres   
Titre = Caractérisation des systèmes autoguérissants : diagnostiquer ce que l'on va réparer
Domaine                                          Informatique
Support                                                   ART
Année                                                    2009
Nauteurs                                                    4
Titre       Caractérisation des systèmes autoguérissants :...
Name: 10, dtype: object

--------------------------------------------------------------------------------
Sklearn DecisionTreeClassifier
--------------------------------------------------------------------------------

Dimension of = <3000x8709 sparse matrix of type '<class 'numpy.float64'>'
	with 206962 stored elements in Compressed Sparse Row format>
Node count = 1101
Max depth of tree= 94
Confusion matrix
[[337   7  17]
 [ 16 268  23]
 [ 22  18 292]]
Accuracy = 0.897
Duration : 0:00:00.031200

Dimension of = <10000x18966 sparse matrix of type '<class 'numpy.float64'>'
	with 206962 stored elements in Compressed Sparse Row format>
Node count = 3219
Max depth of tree= 220
Confusion matrix
[[1068   35   72]
 [  46  930   81]
 [  68   69  964]]
Accuracy = 0.8886888688868887
Duration : 0:00:00.156000

Dimension of = <19999x28282 sparse matrix of type '<class 'numpy.float64'>'
	with 206962 stored elements in Compressed Sparse Row format>
Node count = 6405
Max depth of tree= 323
Confusion matrix
[[2018   52   92]
 [  62 1836  146]
 [ 102  149 2209]]
Accuracy = 0.9095409540954096
Duration : 0:00:00.156802

Dimension of = <53426x49699 sparse matrix of type '<class 'numpy.float64'>'
	with 552042 stored elements in Compressed Sparse Row format>
Node count = 16311
Max depth of tree= 656
Confusion matrix
[[5902  108  221]
 [ 175 5252  290]
 [ 290  321 5249]]
Accuracy = 0.921102875112309
Duration : 0:00:00.468001

--------------------------------------------------------------------------------
Mon modèle
--------------------------------------------------------------------------------

100 traits, train MS => 3s

Title without silhouette =        5
Accuracy =                       65 %
Title without Silhouette =        5 5
Title with Zero Equality =     5587
Title with Non Zero Equality =    0

{'Informatique': {'Informatique': 9585, 'Lettres': 738, 'Linguistique': 1455}, 'Lettres': {'Informatique': 350, 'Lettres': 6008, 'Linguistique': 1177}, 'Linguistique': {'Informatique': 1280, 'Lettres': 1894, 'Linguistique': 7540}, 'No silhouette': {'Informatique': 0, 'Lettres': 3, 'Linguistique': 2}, 'Zero Equality': {'Informatique': 1248, 'Lettres': 2791, 'Linguistique': 1548}, 'Non Zero Equality': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 0}}

1000 traits, train MS => 01m18

Title without silhouette =        5
Accuracy :                       78 %
Title without Silhouette =        5 5
Title with Zero Equality =      813
Title with Non Zero Equality =    0

{'Informatique': {'Informatique': 10828, 'Lettres': 796, 'Linguistique': 1438}, 'Lettres': {'Informatique': 299, 'Lettres': 8169, 'Linguistique': 1263}, 'Linguistique': {'Informatique': 1221, 'Lettres': 1959, 'Linguistique': 8828}, 'No silhouette': {'Informatique': 0, 'Lettres': 3, 'Linguistique': 2}, 'Zero Equality': {'Informatique': 115, 'Lettres': 507, 'Linguistique': 191}, 'Non Zero Equality': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 0}}

10000 traits, train MS => 12m40

Accuracy =          81 %
Title without Silhouette = 5 5
Title with Zero Equality = 73
Title with Non Zero Equality = 0

Estimé comme => Informatique        Lettres         Linguistique    NS   ZeroEq   NZE
Sont des :                                                                               Total
Informatique   <10954>               301            1204             0    4         0    12463
Lettres           763              <8724>           1879             3   65         0    11434
Linguistique     1398               1277           <9041>            2    4         0    11722
                                                                                         35619
La différence c'est les titres sont silhouettes au nombre de 5 !
Yes, c'est ça, ouf :-)

Les ZeroEq ont :
    - soit pas de silhouette
    - soit des mots non pris dans les 10 000 bests
Les NZE sont inexistants.

{'Informatique': {
    'Informatique': 10954, 
    'Lettres': 763, 
    'Linguistique': 1398
 },
 'Lettres': {
    'Informatique': 301, 
    'Lettres': 8724, 
    'Linguistique': 1277
 }, 
 'Linguistique': {
    'Informatique': 1204, 
    'Lettres': 1879, 
    'Linguistique': 9041
 }, 
 'No silhouette': {
    'Informatique': 0, 
    'Lettres': 3, 
    'Linguistique': 2
 }, 
 'Zero Equality': {
    'Informatique': 4, 
    'Lettres': 65, 
    'Linguistique': 4
 }, 
 'Non Zero Equality': {
    'Informatique': 0, 
    'Lettres': 0, 
    'Linguistique': 0
 }
}

-------------------------------------------------------------------------------

100 traits, test MS => 2s

Title without silhouette = 2
00001000 / 17807 titles done.'
00002000 / 17807 titles done.'
00004000 / 17807 titles done.'
00008000 / 17807 titles done.'
Duration : 0:00:01.518076
Accuracy =          63 %
Title without Silhouette = 2 2
Title with Zero Equality = 2894
Title with Non Zero Equality = 0
{'Informatique': {'Informatique': 4633, 'Lettres': 384, 'Linguistique': 729}, 'Lettres': {'Informatique': 199, 'Lettres': 2889, 'Linguistique': 622}, 'Linguistique': {'Informatique': 727, 'Lettres': 989, 'Linguistique': 3739}, 'No silhouette': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 2}, 'Zero Equality': {'Informatique': 672, 'Lettres': 1454, 'Linguistique': 768}, 'Non Zero Equality': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 0}}

1000 traits, test MS => 25s

Title without silhouette = 2
00001000 / 17807 titles done.'
00002000 / 17807 titles done.'
00004000 / 17807 titles done.'
00008000 / 17807 titles done.'
Duration : 0:00:25.293959
Accuracy =          76 %
Title without Silhouette = 2 2
Title with Zero Equality = 415
Title with Non Zero Equality = 0
{'Informatique': {'Informatique': 5274, 'Lettres': 420, 'Linguistique': 738}, 'Lettres': {'Informatique': 171, 'Lettres': 3980, 'Linguistique': 693}, 'Linguistique': {'Informatique': 717, 'Lettres': 1059, 'Linguistique': 4338}, 'No silhouette': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 2}, 'Zero Equality': {'Informatique': 69, 'Lettres': 257, 'Linguistique': 89}, 'Non Zero Equality': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 0}}

10000 traits, test MS => 5m44

Title without silhouette = 2
00001000 / 17807 titles done.'
00002000 / 17807 titles done.'
00004000 / 17807 titles done.'
00008000 / 17807 titles done.'
Duration : 0:05:44.710770
Accuracy =          78 %
Title without Silhouette = 2 2
Title with Zero Equality = 69
Title with Non Zero Equality = 0
{'Informatique': {'Informatique': 5321, 'Lettres': 407, 'Linguistique': 729}, 'Lettres': {'Informatique': 187, 'Lettres': 4218, 'Linguistique': 708}, 'Linguistique': {'Informatique': 716, 'Lettres': 1047, 'Linguistique': 4403}, 'No silhouette': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 2}, 'Zero Equality': {'Informatique': 7, 'Lettres': 44, 'Linguistique': 18}, 'Non Zero Equality': {'Informatique': 0, 'Lettres': 0, 'Linguistique': 0}}